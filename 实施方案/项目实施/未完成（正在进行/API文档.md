---
**æ–‡æ¡£ç‰ˆæœ¬**: v2.0
**åˆ›å»ºæ—¥æœŸ**: 2025-07-29
**æœ€åæ›´æ–°**: 2025-08-04
**æ›´æ–°äºº**: AI Assistant
**å˜æ›´è¯´æ˜**: æé†’ç³»ç»ŸAPIè·¯å¾„ä¿®å¤å®Œæˆï¼Œå‰åç«¯APIè°ƒç”¨ç»Ÿä¸€ï¼Œæ‰€æœ‰æé†’åŠŸèƒ½æ­£å¸¸å·¥ä½œ
---

# ğŸ”Œ æ™ºèƒ½æé†’äº‹é¡¹Web App - APIæ¥å£æ–‡æ¡£

## ğŸ“‹ ç›®å½•

- [APIæ¦‚è¿°](#apiæ¦‚è¿°)
- [è®¤è¯æˆæƒAPI](#è®¤è¯æˆæƒapi)
- [é‚€è¯·ç ç®¡ç†API](#é‚€è¯·ç ç®¡ç†api)
- [ä»»åŠ¡ç®¡ç†API](#ä»»åŠ¡ç®¡ç†api)
- [æ—¶é—´çº¿ç®¡ç†API](#æ—¶é—´çº¿ç®¡ç†api)
- [æé†’ç³»ç»ŸAPI](#æé†’ç³»ç»Ÿapi)
- [æ•°æ®åˆ†æAPI](#æ•°æ®åˆ†æapi)
- [é”™è¯¯å¤„ç†](#é”™è¯¯å¤„ç†)
- [æ•°æ®æ ¼å¼è§„èŒƒ](#æ•°æ®æ ¼å¼è§„èŒƒ)
- [æ›´æ–°è®°å½•](#æ›´æ–°è®°å½•)

## ğŸ”— ç›¸å…³æ–‡æ¡£é“¾æ¥

- [æ•°æ®åº“è¡¨ç»“æ„](./æ•°æ®åº“è¡¨_å®é™…ç»“æ„.md) - æŸ¥çœ‹å®Œæ•´çš„æ•°æ®åº“è®¾è®¡
- [æŠ€æœ¯æ¶æ„è®¾è®¡](./æŠ€æœ¯æ¶æ„.md#apiæ¥å£è®¾è®¡) - äº†è§£APIæ¶æ„è®¾è®¡åŸåˆ™
- [å¼€å‘æµç¨‹å®æ–½](./å¼€å‘æµç¨‹å®æ–½.md#ç¬¬äº”æ­¥apiæ¥å£è®¾è®¡) - APIå¼€å‘å®æ–½æŒ‡å—

---

## ğŸŒ APIæ¦‚è¿°

### åŸºç¡€ä¿¡æ¯
- **APIç‰ˆæœ¬**: v1.0
- **åŸºç¡€URL**: `http://localhost:5006/api` (å¼€å‘ç¯å¢ƒ)
- **åè®®**: HTTP/HTTPS
- **æ•°æ®æ ¼å¼**: JSON
- **å­—ç¬¦ç¼–ç **: UTF-8
- **å‰ç«¯è°ƒç”¨çº¦å®š**: ç»Ÿä¸€é€šè¿‡ `src/services/api.ts` çš„ axios å®ä¾‹å‘èµ·è¯·æ±‚ï¼Œæ¨¡å—å†…ä»…ä¹¦å†™ç›¸å¯¹è·¯å¾„ï¼ˆä¸å¸¦`/api`å‰ç¼€ï¼‰ï¼Œä¾‹å¦‚ï¼š`/Reminder/stats`ã€‚

### ğŸ¯ å·²å®ç°æ§åˆ¶å™¨æ¸…å•ï¼ˆ15ä¸ªï¼‰
| æ§åˆ¶å™¨ | è·¯ç”±å‰ç¼€ | åŠŸèƒ½æè¿° | ç«¯ç‚¹æ•°é‡ |
|--------|---------|----------|----------|
| **HealthController** | `/Health` | å¥åº·æ£€æŸ¥å’Œç³»ç»ŸçŠ¶æ€ç›‘æ§ | 5ä¸ª |
| **MetricsController** | `/api/Metrics` | ç³»ç»ŸæŒ‡æ ‡å’Œæ€§èƒ½ç›‘æ§ï¼ˆç®¡ç†å‘˜ï¼‰ | 4ä¸ª+ |
| **AdminController** | `/api/Admin` | ç®¡ç†å‘˜åŠŸèƒ½ï¼ˆç”¨æˆ·ç®¡ç†ã€ç³»ç»Ÿç»Ÿè®¡ï¼‰ | 6ä¸ª+ |
| **UserController** | `/api/User` | ç”¨æˆ·ç®¡ç†å’Œè®¤è¯ç³»ç»Ÿ | 4ä¸ª+ |
| **UserProfileController** | `/api/UserProfile` | ç”¨æˆ·é…ç½®å’Œä¸ªäººä¿¡æ¯ç®¡ç† | 2ä¸ª |
| **InvitationCodeController** | `/api/InvitationCode` | é‚€è¯·ç ç®¡ç†ç³»ç»Ÿï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰ | 6ä¸ª+ |
| **TaskController** | `/api/Task` | ä»»åŠ¡æ ¸å¿ƒCRUDå’Œç®¡ç†åŠŸèƒ½ | 5ä¸ª |
| **TaskDetailsController** | `/api/TaskDetails` | ä»»åŠ¡è¯¦ç»†ä¿¡æ¯å’Œæ‰©å±•åŠŸèƒ½ | 9ä¸ª+ |
| **TaskCategoryController** | `/api/TaskCategory` | ä»»åŠ¡åˆ†ç±»ç®¡ç†ç³»ç»Ÿ | 5ä¸ª |
| **TaskDependencyController** | `/api/TaskDependency` | ä»»åŠ¡ä¾èµ–å…³ç³»å¤„ç† | 5ä¸ª |
| **TaskTemplateController** | `/api/TaskTemplate` | ä»»åŠ¡æ¨¡æ¿å’Œå¤ç”¨ç³»ç»Ÿ | 8ä¸ª+ |
| **ReminderController** | `/api/Reminder` | å¤šç»´åº¦æé†’åŠŸèƒ½ç®¡ç† | 8ä¸ª |
| **GanttDataController** | `/api/GanttData` | ç”˜ç‰¹å›¾æ•°æ®å¤„ç†å’ŒåŒæ­¥ | 5ä¸ª |
| **UserActivityController** | `/api/UserActivity` | ç”¨æˆ·æ´»åŠ¨è·Ÿè¸ªå’Œæ—¥å¿— | 5ä¸ª+ |
| **DataConsistencyController** | `/api/DataConsistency` | æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥å’Œä¿®å¤ | 5ä¸ª |
| **æ€»è®¡** | - | **15ä¸ªæ§åˆ¶å™¨ï¼Œä¼ä¸šçº§APIæ¶æ„** | **100+ç«¯ç‚¹** |

### è®¤è¯æ–¹å¼
- **JWT Token**: åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦ `Authorization: Bearer <token>`ï¼ˆå½“å‰å·²å¯ç”¨ï¼‰
- ï¼ˆè¯´æ˜ï¼‰å½“å‰ä»£ç æœªå¯ç”¨ API Key ä¸ ASP.NET Core Identityï¼›å¦‚éœ€å¯ç”¨å°†å¦è¡Œåœ¨`Program.cs`ä¸æ§åˆ¶å™¨ä¸­è¡¥å……å®ç°ã€‚

### é€šç”¨å“åº”æ ¼å¼
```json
{
  "success": true,
  "data": {},
  "message": "æ“ä½œæˆåŠŸ",
  "timestamp": "2024-01-01T00:00:00Z",
  "requestId": "req_123456789"
}
```

### é”™è¯¯å“åº”æ ¼å¼
```json
{
  "success": false,
  "error": {
    "code": "AUTH_001",
    "message": "è®¤è¯å¤±è´¥",
    "details": "Tokenå·²è¿‡æœŸ"
  },
  "timestamp": "2024-01-01T00:00:00Z",
  "requestId": "req_123456789"
}
```

---

## ğŸ” è®¤è¯æˆæƒAPI

### ç”¨æˆ·è®¤è¯æ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|------|
| ç”¨æˆ·æ³¨å†Œ | POST | `/api/User/register` | ç”¨æˆ·æ³¨å†Œï¼ˆéœ€è¦é‚€è¯·ç ï¼‰ |
| ç”¨æˆ·ç™»å½• | POST | `/api/User/login` | ç”¨æˆ·ç™»å½•è·å–JWTä»¤ç‰Œ |
| è·å–ç”¨æˆ·ä¿¡æ¯ | GET | `/api/User/profile/{userId}` | è·å–å½“å‰ç”¨æˆ·è¯¦ç»†ä¿¡æ¯ |
| æ›´æ–°ç”¨æˆ·ä¿¡æ¯ | PUT | `/api/User/profile/{userId}` | æ›´æ–°å§“åã€å¤´åƒç­‰ä¿¡æ¯ |

### é‚€è¯·ç ç®¡ç†APIï¼ˆç®¡ç†å‘˜ä¸“ç”¨ï¼‰

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|------|
| éªŒè¯é‚€è¯·ç  | POST | `/api/InvitationCode/validate` | éªŒè¯é‚€è¯·ç æœ‰æ•ˆæ€§ï¼ˆå…¬å¼€æ¥å£ï¼‰ |
| åˆ›å»ºé‚€è¯·ç  | POST | `/api/InvitationCode` | åˆ›å»ºæ–°çš„é‚€è¯·ç ï¼ˆç®¡ç†å‘˜ï¼‰ |
| è·å–é‚€è¯·ç åˆ—è¡¨ | GET | `/api/InvitationCode` | åˆ†é¡µè·å–é‚€è¯·ç åˆ—è¡¨ï¼ˆç®¡ç†å‘˜ï¼‰ |
| æ›´æ–°é‚€è¯·ç  | PUT | `/api/InvitationCode/{id}` | æ›´æ–°é‚€è¯·ç çŠ¶æ€ï¼ˆç®¡ç†å‘˜ï¼‰ |
| åˆ é™¤é‚€è¯·ç  | DELETE | `/api/InvitationCode/{id}` | åˆ é™¤é‚€è¯·ç ï¼ˆç®¡ç†å‘˜ï¼‰ |
| è·å–ä½¿ç”¨è®°å½• | GET | `/api/InvitationCode/{id}/usages` | è·å–é‚€è¯·ç ä½¿ç”¨è®°å½•ï¼ˆç®¡ç†å‘˜ï¼‰ |

> **è®¤è¯è¯´æ˜**: é™¤æ³¨å†Œã€ç™»å½•ã€é‚€è¯·ç éªŒè¯å¤–ï¼Œå…¶ä»–æ¥å£éƒ½éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦ `Authorization: Bearer <token>`
> **æƒé™è¯´æ˜**: é‚€è¯·ç ç®¡ç†æ¥å£éœ€è¦ç®¡ç†å‘˜è§’è‰²æƒé™

### å…³é”®æ•°æ®ç»“æ„

**ç”¨æˆ·æ³¨å†Œè¯·æ±‚**:
```json
{
  "email": "user@example.com",
  "password": "password123",
  "name": "å¼ ä¸‰",
  "phone": "13800138000"
}
```

**è®¤è¯å“åº”æ•°æ®**:
```json
{
  "userId": "user_123456789",
  "email": "user@example.com",
  "name": "å¼ ä¸‰",
  "token": "eyJhbGciOiJIUzI1NiIs...",
  "refreshToken": "refresh_token_123456789",
  "expiresIn": 3600
}
```

---

## ğŸ“‹ ä»»åŠ¡ç®¡ç†APIï¼ˆTaskControllerï¼‰

### æ ¸å¿ƒæ¥å£æ¦‚è§ˆï¼ˆä¸å®é™…ä»£ç ä¸€è‡´ï¼‰

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|------|
| è·å–ä»»åŠ¡åˆ—è¡¨ | GET | `/api/Task/user/{userId}` | æ”¯æŒçŠ¶æ€ã€ä¼˜å…ˆçº§ã€åˆ†ç±»ã€æ—¶é—´èŒƒå›´ã€å…³é”®è¯ã€æ’åºã€åˆ†é¡µ |
| è·å–ä»»åŠ¡è¯¦æƒ… | GET | `/api/Task/{id}` | è·å–ä»»åŠ¡è¯¦ç»†ä¿¡æ¯ |
| åˆ›å»ºä»»åŠ¡ | POST | `/api/Task/user/{userId}` | åˆ›å»ºæ–°ä»»åŠ¡ï¼ˆæ ¡éªŒç”¨æˆ·/åˆ†ç±»/çˆ¶ä»»åŠ¡ï¼‰ |
| æ›´æ–°ä»»åŠ¡ | PUT | `/api/Task/{id}` | å±€éƒ¨æ›´æ–°ä»»åŠ¡ä¿¡æ¯ |
| åˆ é™¤ä»»åŠ¡ | DELETE | `/api/Task/{id}` | åˆ é™¤ä»»åŠ¡ï¼ˆå«å­ä»»åŠ¡æ£€æŸ¥ï¼‰ |

### æŸ¥è¯¢å‚æ•°ï¼ˆGetTasksï¼‰
- status, priority, categoryId, startDate, endDate, searchKeyword, sortBy, sortOrder, pageNumber, pageSize

### å…³é”®æ•°æ®ç»“æ„ï¼ˆç¤ºä¾‹ï¼‰

**ä»»åŠ¡åˆ›å»ºè¯·æ±‚**:
```json
{
  "title": "å®Œæˆé¡¹ç›®æ–‡æ¡£",
  "description": "ç¼–å†™é¡¹ç›®æŠ€æœ¯æ–‡æ¡£å’Œç”¨æˆ·æ‰‹å†Œ",
  "startTime": "2024-01-15T09:00:00Z",
  "endTime": "2024-01-20T18:00:00Z",
  "priority": "high",
  "category": "work",
  "tags": ["æ–‡æ¡£", "é¡¹ç›®"],
  "estimatedHours": 16,
  "dependencies": ["task_123456789"]
}
```

**ä»»åŠ¡å“åº”æ•°æ®**:
```json
{
  "taskId": "task_987654321",
  "title": "å®Œæˆé¡¹ç›®æ–‡æ¡£",
  "status": "pending",
  "priority": "high",
  "progress": 0,
  "startTime": "2024-01-15T09:00:00Z",
  "endTime": "2024-01-20T18:00:00Z",
  "createdAt": "2024-01-01T00:00:00Z"
}
```

### æŸ¥è¯¢å‚æ•°è¯´æ˜

**ä»»åŠ¡åˆ—è¡¨æŸ¥è¯¢å‚æ•°**:
- `page`, `limit`: åˆ†é¡µå‚æ•°
- `status`: ä»»åŠ¡çŠ¶æ€ç­›é€‰ (pending, in_progress, completed, cancelled)
- `priority`: ä¼˜å…ˆçº§ç­›é€‰ (low, medium, high)
- `category`: åˆ†ç±»ç­›é€‰
- `startDate`, `endDate`: æ—¶é—´èŒƒå›´ç­›é€‰
- `search`: å…³é”®è¯æœç´¢

**åˆ†é¡µå“åº”æ ¼å¼**:
```json
{
  "tasks": [...],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 100,
    "totalPages": 5
  }
}
```

---

## ğŸ·ï¸ ä»»åŠ¡åˆ†ç±»ç®¡ç†API

### æ ¸å¿ƒæ¥å£æ¦‚è§ˆ

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | æè¿° | çŠ¶æ€ |
|------|------|------|------|------|
| è·å–åˆ†ç±»åˆ—è¡¨ | GET | `/api/TaskCategory` | è·å–æ‰€æœ‰ä»»åŠ¡åˆ†ç±» | âœ… å·²å®ç° |
| è·å–åˆ†ç±»è¯¦æƒ… | GET | `/api/TaskCategory/{id}` | è·å–å•ä¸ªåˆ†ç±»ä¿¡æ¯ | âœ… å·²å®ç° |
| åˆ›å»ºåˆ†ç±» | POST | `/api/TaskCategory` | åˆ›å»ºæ–°çš„ä»»åŠ¡åˆ†ç±» | âœ… å·²å®ç° |
| æ›´æ–°åˆ†ç±» | PUT | `/api/TaskCategory/{id}` | æ›´æ–°åˆ†ç±»ä¿¡æ¯ | âœ… å·²å®ç° |
| åˆ é™¤åˆ†ç±» | DELETE | `/api/TaskCategory/{id}` | åˆ é™¤åˆ†ç±»ï¼ˆæ£€æŸ¥å…³è”ä»»åŠ¡ï¼‰ | âœ… å·²å®ç° |

### å…³é”®æ•°æ®ç»“æ„

**åˆ†ç±»åˆ›å»ºè¯·æ±‚**:
```json
{
  "name": "å·¥ä½œ",
  "color": "#007bff",
  "icon": "briefcase",
  "description": "å·¥ä½œç›¸å…³ä»»åŠ¡",
  "sortOrder": 1
}
```

**åˆ†ç±»å“åº”æ•°æ®**:
```json
{
  "success": true,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "id": "502d78ae-784e-4e08-95b3-3a5affa365e3",
    "name": "å·¥ä½œ",
    "color": "#007bff",
    "icon": "briefcase",
    "description": "å·¥ä½œç›¸å…³ä»»åŠ¡",
    "isSystem": true,
    "sortOrder": 1,
    "createdAt": "2025-07-29T20:18:41.66Z"
  },
  "errors": []
}
```

### æµ‹è¯•éªŒè¯ç»“æœ (2025-08-03)

**âœ… å·²é€šè¿‡Swaggeræµ‹è¯•éªŒè¯**:
- âœ… GET `/api/TaskCategory`: æˆåŠŸè¿”å›5ä¸ªé¢„è®¾åˆ†ç±»
- âœ… POST `/api/TaskCategory`: æˆåŠŸåˆ›å»º"æµ‹è¯•åˆ†ç±»"
- âœ… ä¾èµ–æ³¨å…¥é…ç½®æ­£ç¡®ï¼Œæ•°æ®åº“æ“ä½œæ­£å¸¸
- âœ… APIå“åº”æ ¼å¼ç»Ÿä¸€ï¼Œé”™è¯¯å¤„ç†å®Œå–„

---

## ğŸ“Š æ—¶é—´çº¿/ç”˜ç‰¹å›¾APIï¼ˆGanttDataControllerï¼‰

### æ ¸å¿ƒæ¥å£æ¦‚è§ˆï¼ˆä¸å®é™…ä»£ç ä¸€è‡´ï¼‰

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|------|
| è·å–ç”˜ç‰¹å›¾æ•°æ® | GET | `/api/GanttData/user/{userId}` | å«ä»»åŠ¡ä¸åˆ†ç±»ä¿¡æ¯ã€æŒ‰å¼€å§‹æ—¥æœŸæ’åº |
| æ›´æ–°ç”˜ç‰¹å›¾æ•°æ® | PUT | `/api/GanttData/{id}` | åŒæ­¥æ›´æ–°å…³è”ä»»åŠ¡å¼€å§‹/ç»“æŸ/è¿›åº¦ |
| ä»ä»»åŠ¡åŒæ­¥ | POST | `/api/GanttData/sync/{userId}` | æ ¹æ®ä»»åŠ¡èµ·æ­¢æ—¶é—´æ‰¹é‡ç”Ÿæˆ/æ›´æ–°ç”˜ç‰¹æ¡ç›®å¹¶æ¸…ç†å­¤å„¿æ•°æ® |
| ä¸€è‡´æ€§æ£€æŸ¥ | GET | `/api/GanttData/consistency-check/{userId}` | æ£€æŸ¥ä»»åŠ¡ä¸ç”˜ç‰¹æ•°æ®çš„æ—¥æœŸ/è¿›åº¦ä¸ä¸€è‡´ |

### è¯´æ˜
- æ§åˆ¶å™¨å·²å®ç°ä¾èµ–ä¸èµ„æºçš„JSONåºåˆ—åŒ–/ååºåˆ—åŒ–ï¼›è¿›åº¦èŒƒå›´æ ¡éªŒå·²å†…ç½®

---

## ğŸ”” æé†’ç³»ç»ŸAPIï¼ˆReminderControllerï¼‰

### æ ¸å¿ƒæ¥å£æ¦‚è§ˆ

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | æè¿° | çŠ¶æ€ |
|------|------|------|------|------|
| åˆ›å»ºæé†’ | POST | `/Reminder` | åˆ›å»ºä»»åŠ¡æé†’ | âœ… å·²ä¿®å¤ï¼ˆç›¸å¯¹è·¯å¾„ï¼ŒåŸºå€`/api`ï¼‰ |
| è·å–æé†’åˆ—è¡¨ | GET | `/Reminder` | è·å–ç”¨æˆ·æé†’åˆ—è¡¨ | âœ… å·²ä¿®å¤ï¼ˆç›¸å¯¹è·¯å¾„ï¼ŒåŸºå€`/api`ï¼‰ |
| è·å–ä»»åŠ¡æé†’ | GET | `/Reminder/task/{taskId}` | è·å–æŒ‡å®šä»»åŠ¡çš„æé†’åˆ—è¡¨ | âœ… å·²ä¿®å¤ï¼ˆç›¸å¯¹è·¯å¾„ï¼ŒåŸºå€`/api`ï¼‰ |
| æ›´æ–°æé†’ | PUT | `/Reminder/{reminderId}` | æ›´æ–°æé†’è®¾ç½® | âœ… å·²ä¿®å¤ï¼ˆç›¸å¯¹è·¯å¾„ï¼ŒåŸºå€`/api`ï¼‰ |
| åˆ é™¤æé†’ | DELETE | `/Reminder/{reminderId}` | åˆ é™¤æé†’ | âœ… å·²ä¿®å¤ï¼ˆç›¸å¯¹è·¯å¾„ï¼ŒåŸºå€`/api`ï¼‰ |
| å®Œæˆæé†’ | POST | `/Reminder/{reminderId}/complete` | å®Œæˆæé†’ | âœ… å·²ä¿®å¤ï¼ˆç›¸å¯¹è·¯å¾„ï¼ŒåŸºå€`/api`ï¼‰ |
| å»¶è¿Ÿæé†’ | POST | `/Reminder/{reminderId}/snooze` | å»¶è¿Ÿæé†’æ—¶é—´ | âœ… å·²ä¿®å¤ï¼ˆç›¸å¯¹è·¯å¾„ï¼ŒåŸºå€`/api`ï¼‰ |
| æé†’ç»Ÿè®¡ | GET | `/Reminder/stats` | è·å–æé†’ç»Ÿè®¡ä¿¡æ¯ | âœ… å·²ä¿®å¤ï¼ˆç›¸å¯¹è·¯å¾„ï¼ŒåŸºå€`/api`ï¼‰ |

### ğŸ”§ APIè·¯å¾„ä¿®å¤è®°å½• (2025-08-04)

**ä¿®å¤é—®é¢˜**: å‰åç«¯APIè·¯å¾„ä¸åŒ¹é…
- **åŸé—®é¢˜**: å‰ç«¯è°ƒç”¨æœªç»Ÿä¸€ï¼Œå¯¼è‡´ä¸åç«¯`/api/Reminder/*`ä¸ä¸€è‡´
- **ä¿®å¤æ–¹æ¡ˆ**: ç»Ÿä¸€å‰ç«¯ä»¥â€œç›¸å¯¹è·¯å¾„â€è°ƒç”¨ï¼ˆå¦‚`/Reminder/*`ï¼‰ï¼Œç”±å…¨å±€åŸºå€`/api`ï¼ˆæˆ–`VITE_API_BASE_URL`ï¼‰æ‹¼æ¥
- **æ¶‰åŠæ–‡ä»¶**: `useReminders.ts`, `reminderApi.ts`, `services/api.ts`
- **ä¿®å¤ç»“æœ**: å‰åç«¯è·¯å¾„å¯¹é½ï¼Œæ‰€æœ‰æé†’APIè°ƒç”¨æ­£å¸¸ âœ…

### å…³é”®æ•°æ®ç»“æ„

**æé†’åˆ›å»ºè¯·æ±‚**:
```json
{
  "taskId": "task_123456789",
  "reminderTime": "2024-01-15T08:30:00Z",
  "reminderType": "web",
  "message": "è®°å¾—å¼€å§‹é¡¹ç›®æ–‡æ¡£ç¼–å†™",
  "channels": ["web", "email"],
  "repeatRule": {
    "type": "none"
  }
}
```

**æé†’å“åº”æ•°æ®**:
```json
{
  "reminderId": "reminder_123456789",
  "taskId": "task_123456789",
  "reminderTime": "2024-01-15T08:30:00Z",
  "status": "pending",
  "channels": ["web", "email"]
}
```

---

## ğŸ“Š ç”¨æˆ·æ´»åŠ¨ä¸ç³»ç»Ÿç»Ÿè®¡APIï¼ˆUserActivityController, AdminControllerï¼‰

### ç”¨æˆ·æ´»åŠ¨ï¼ˆUserActivityControllerï¼‰

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|------|
| è·å–ç”¨æˆ·æ´»åŠ¨åˆ—è¡¨ | GET | `/api/UserActivity/user/{userId}` | æ”¯æŒåˆ†é¡µä¸æ´»åŠ¨ç±»å‹ç­›é€‰ |
| è·å–ç”¨æˆ·æ´»åŠ¨ç»Ÿè®¡ | GET | `/api/UserActivity/user/{userId}/stats` | æ¯ç§æ´»åŠ¨ç±»å‹æ•°é‡ã€ä»Šæ—¥æ´»åŠ¨ã€æœ€è¿‘ä¸€æ¬¡æ´»åŠ¨æ—¶é—´ |
| è®°å½•ç”¨æˆ·æ´»åŠ¨ | POST | `/api/UserActivity` | æ‰‹åŠ¨å†™å…¥æ´»åŠ¨ï¼ˆè®°å½•IP/UAï¼‰ |
| è·å–æ´»åŠ¨ç±»å‹åˆ—è¡¨ | GET | `/api/UserActivity/activity-types` | å»é‡åçš„æ´»åŠ¨ç±»å‹é›†åˆ |
| åˆ é™¤æ´»åŠ¨è®°å½• | DELETE | `/api/UserActivity/{id}` | åˆ é™¤å•æ¡æ´»åŠ¨ |

### ç®¡ç†å‘˜ï¼ˆAdminControllerï¼Œéœ€ç®¡ç†å‘˜æƒé™ï¼‰

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|------|
| è·å–ç”¨æˆ·åˆ—è¡¨ | GET | `/api/Admin/users` | æ”¯æŒåˆ†é¡µã€æœç´¢ã€è§’è‰²ã€çŠ¶æ€ç­›é€‰ |
| è·å–ç”¨æˆ·è¯¦æƒ… | GET | `/api/Admin/users/{id}` | ç”¨æˆ·æ¦‚è¦ã€ä»»åŠ¡ç»Ÿè®¡ã€é‚€è¯·ç ä½¿ç”¨ã€æƒé™ |
| æ›´æ–°ç”¨æˆ·è§’è‰² | PUT | `/api/Admin/users/{id}/role` | ä¿®æ”¹ä¸ºæŒ‡å®šè§’è‰²ï¼ˆç¦æ­¢ä¿®æ”¹è‡ªèº«ï¼‰ |
| æ›´æ–°ç”¨æˆ·çŠ¶æ€ | PUT | `/api/Admin/users/{id}/status` | ç»Ÿä¸€å°å†™å­˜å‚¨ï¼Œç¦æ­¢ä¿®æ”¹è‡ªèº« |
| è·å–ç³»ç»Ÿç»Ÿè®¡ | GET | `/api/Admin/stats` | ç”¨æˆ·/ä»»åŠ¡å…³é”®æŒ‡æ ‡ä¸é‚€è¯·ç ç»Ÿè®¡ |


---

## âŒ é”™è¯¯å¤„ç†

### é”™è¯¯ä»£ç åˆ†ç±»
- **AUTH_***: è®¤è¯ç›¸å…³é”™è¯¯ (001-005)
- **TASK_***: ä»»åŠ¡ç›¸å…³é”™è¯¯ (001-005)
- **REMINDER_***: æé†’ç›¸å…³é”™è¯¯ (001-004)
- **SYS_***: ç³»ç»Ÿç›¸å…³é”™è¯¯ (001-004)

### ASP.NET Coreé”™è¯¯å¤„ç†æœºåˆ¶
- **ModelStateéªŒè¯**: è‡ªåŠ¨éªŒè¯è¯·æ±‚æ¨¡å‹
- **å…¨å±€å¼‚å¸¸å¤„ç†**: ä½¿ç”¨ExceptionFilterç»Ÿä¸€å¤„ç†
- **è‡ªå®šä¹‰å¼‚å¸¸**: å®šä¹‰ä¸šåŠ¡å¼‚å¸¸ç±»å‹
- **ä¸­é—´ä»¶å¤„ç†**: å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶

---

## ğŸ“‹ æ•°æ®æ ¼å¼è§„èŒƒ

### æ ‡å‡†æ ¼å¼
- **æ—¥æœŸæ—¶é—´**: ISO 8601æ ¼å¼ `YYYY-MM-DDTHH:mm:ss.sssZ`
- **åˆ†é¡µ**: `{page, limit, total, totalPages, hasNext, hasPrev}`
- **æ’åº**: `{field, order}` (order: asc/desc)

### æšä¸¾å€¼å®šä¹‰
- **ä»»åŠ¡çŠ¶æ€**: pending, in_progress, completed, cancelled, paused
- **ä¼˜å…ˆçº§**: low, medium, high, urgent
- **æé†’ç±»å‹**: web, email, sms, push
- **é‡å¤è§„åˆ™**: none, daily, weekly, monthly, yearly

---

## ğŸ“ æ€»ç»“

è¿™ä¸ªAPIæ–‡æ¡£æä¾›äº†æ™ºèƒ½æé†’äº‹é¡¹Web Appçš„å®Œæ•´æ¥å£è§„èŒƒï¼ŒåŒ…æ‹¬ï¼š

1. **è®¤è¯æˆæƒAPI**: ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ç¬¬ä¸‰æ–¹ç™»å½•ã€ä»¤ç‰Œç®¡ç†
2. **ä»»åŠ¡ç®¡ç†API**: ä»»åŠ¡çš„å¢åˆ æ”¹æŸ¥ã€æ‰¹é‡æ“ä½œã€æœç´¢ç­›é€‰
3. **æ—¶é—´çº¿ç®¡ç†API**: ç”˜ç‰¹å›¾æ•°æ®ã€æ—¶é—´è°ƒæ•´ã€å†²çªæ£€æµ‹ã€AIæ™ºèƒ½è°ƒæ•´
4. **æé†’ç³»ç»ŸAPI**: æé†’åˆ›å»ºã€ç®¡ç†ã€é€šçŸ¥è®¾ç½®
5. **æ•°æ®åˆ†æAPI**: ç”¨æˆ·ç»Ÿè®¡ã€ä»»åŠ¡åˆ†æã€æ•ˆç‡æŠ¥å‘Š
6. **é”™è¯¯å¤„ç†**: å®Œæ•´çš„é”™è¯¯ä»£ç å’Œå“åº”æ ¼å¼
7. **æ•°æ®æ ¼å¼è§„èŒƒ**: ç»Ÿä¸€çš„æ—¥æœŸæ—¶é—´ã€æšä¸¾å€¼ã€åˆ†é¡µæ ¼å¼

æ‰€æœ‰æ¥å£éƒ½éµå¾ªRESTfulè®¾è®¡åŸåˆ™ï¼Œä½¿ç”¨JSONæ ¼å¼è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œæ”¯æŒJWTè®¤è¯ï¼Œå¹¶æä¾›äº†è¯¦ç»†çš„è¯·æ±‚å‚æ•°å’Œå“åº”ç¤ºä¾‹ã€‚

---

## ğŸ“ æ›´æ–°è®°å½•

| ç‰ˆæœ¬ | æ—¥æœŸ | æ›´æ–°äºº | å˜æ›´è¯´æ˜ |
|------|------|--------|----------|
| v1.0 | 2025-07-29 | AreaSong | åˆå§‹ç‰ˆæœ¬åˆ›å»ºï¼Œå®Œæ•´APIæ¥å£è§„èŒƒ |

### æ›´æ–°é¢‘ç‡è¯´æ˜
- **å®šæœŸæ›´æ–°**: å½“APIæ¥å£å‘ç”Ÿå˜æ›´æ—¶åŠæ—¶æ›´æ–°
- **ç‰ˆæœ¬åŒæ­¥**: ä¸åç«¯å¼€å‘è¿›åº¦ä¿æŒåŒæ­¥
- **æ–‡æ¡£éªŒè¯**: æ¯æ¬¡å‘å¸ƒå‰éªŒè¯APIæ–‡æ¡£çš„å‡†ç¡®æ€§

### ç›¸å…³æ•°æ®åº“è¡¨æ˜ å°„
æœ¬APIæ–‡æ¡£ä¸­çš„æ¥å£ä¸ä»¥ä¸‹æ•°æ®åº“è¡¨ç›´æ¥å¯¹åº”ï¼Œè¯¦ç»†è¡¨ç»“æ„è¯·å‚è€ƒ [æ•°æ®åº“è¡¨_å®é™…ç»“æ„.md](./æ•°æ®åº“è¡¨_å®é™…ç»“æ„.md)ï¼š

- **è®¤è¯æˆæƒAPI** â†” `users`, `user_sessions`, `user_oauth_accounts` è¡¨
- **ä»»åŠ¡ç®¡ç†API** â†” `tasks`, `task_categories`, `task_dependencies` è¡¨
- **æ—¶é—´çº¿ç®¡ç†API** â†” `timeline_nodes`, `gantt_data`, `time_blocks` è¡¨
- **æé†’ç³»ç»ŸAPI** â†” `reminders`, `reminder_rules`, `notification_settings` è¡¨
- **æ•°æ®åˆ†æAPI** â†” `user_activities`, `task_statistics`, `productivity_metrics` è¡¨