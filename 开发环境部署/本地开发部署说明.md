# ğŸ“– ToDoListArea æœ¬åœ°å¼€å‘éƒ¨ç½²è¯´æ˜

## ğŸ¯ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜å¦‚ä½•åœ¨æœ¬åœ°ç¯å¢ƒä¸­éƒ¨ç½²å’Œè¿è¡ŒToDoListAreaé¡¹ç›®çš„å¼€å‘ç‰ˆæœ¬ã€‚å¼€å‘ç¯å¢ƒæ”¯æŒä»£ç çƒ­é‡è½½ã€å®æ—¶è°ƒè¯•å’Œå®Œæ•´çš„å¼€å‘å·¥å…·é“¾ã€‚

## ğŸ“‹ éƒ¨ç½²æ–¹å¼å¯¹æ¯”

| éƒ¨ç½²æ–¹å¼ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|----------|------|------|----------|
| **Dockerå¼€å‘ç¯å¢ƒ** | ç¯å¢ƒä¸€è‡´ã€å¿«é€Ÿå¯åŠ¨ã€åŒ…å«æ‰€æœ‰æœåŠ¡ | èµ„æºå ç”¨è¾ƒé«˜ | æ¨èç”¨äºæ—¥å¸¸å¼€å‘ |
| **æœ¬åœ°ç›´æ¥è¿è¡Œ** | æ€§èƒ½æœ€ä½³ã€è°ƒè¯•æ–¹ä¾¿ | ç¯å¢ƒé…ç½®å¤æ‚ | æ·±åº¦è°ƒè¯•å’Œæ€§èƒ½ä¼˜åŒ– |
| **æ··åˆæ¨¡å¼** | çµæ´»æ€§é«˜ã€èµ„æºå ç”¨é€‚ä¸­ | é…ç½®å¤æ‚ | ç‰¹å®šç»„ä»¶å¼€å‘ |

## ğŸ³ Dockerå¼€å‘ç¯å¢ƒéƒ¨ç½²ï¼ˆæ¨èï¼‰

### å¿«é€Ÿå¯åŠ¨

1. **è¿›å…¥å¼€å‘ç¯å¢ƒç›®å½•**
   ```bash
   cd å¼€å‘ç¯å¢ƒéƒ¨ç½²
   ```

2. **è¿è¡Œéƒ¨ç½²è„šæœ¬**
   ```bash
   # Windows
   deploy-dev.bat
   
   # Linux/macOS
   chmod +x deploy-dev.sh
   ./deploy-dev.sh
   ```

3. **éªŒè¯éƒ¨ç½²**
   - å‰ç«¯: http://localhost:5175
   - åç«¯: http://localhost:5006
   - æ•°æ®åº“ç®¡ç†: http://localhost:8080

### è¯¦ç»†é…ç½®è¯´æ˜

#### ç¯å¢ƒå˜é‡é…ç½®
```env
# .env.dev æ–‡ä»¶å†…å®¹
DB_SA_PASSWORD=TodoList@2024!Dev
JWT_SECRET_KEY=dev-jwt-secret-key-for-development-only-not-secure-12345678
JWT_ISSUER=ToDoListArea-Dev
JWT_AUDIENCE=ToDoListArea-Dev-Users
JWT_EXPIRATION=120
ASPNETCORE_ENVIRONMENT=Development
NODE_ENV=development
```

#### æœåŠ¡é…ç½®è¯¦æƒ…

**å‰ç«¯æœåŠ¡ (React + Vite)**:
- ç«¯å£: 5175
- çƒ­é‡è½½: æ”¯æŒ
- æºç æŒ‚è½½: `../WebCode/todo-frontend/src` â†’ `/app/src`
- ç¯å¢ƒå˜é‡: ä» `.env.frontend.development` åŠ è½½

**åç«¯æœåŠ¡ (ASP.NET Core)**:
- ç«¯å£: 5006
- ç¯å¢ƒ: Development
- æºç æŒ‚è½½: `../ApiCode/ToDoListArea/ToDoListArea` â†’ `/app/src`
- é…ç½®æ–‡ä»¶: `appsettings.Development.json`

**æ•°æ®åº“æœåŠ¡ (SQL Server)**:
- ç«¯å£: 1433
- ç”¨æˆ·å: sa
- å¯†ç : TodoList@2024!Dev
- æ•°æ®æŒä¹…åŒ–: Docker Volume

**Redisç¼“å­˜**:
- ç«¯å£: 6379
- æ•°æ®æŒä¹…åŒ–: Docker Volume

**Admineræ•°æ®åº“ç®¡ç†**:
- ç«¯å£: 8080
- ç”¨é€”: å¯è§†åŒ–æ•°æ®åº“ç®¡ç†

## ğŸ’» æœ¬åœ°ç›´æ¥è¿è¡Œéƒ¨ç½²

### å‰ç½®è¦æ±‚
- Node.js >= 18.0.0
- .NET 8 SDK
- SQL Server 2019+ æˆ– SQL Server Express
- Redis (å¯é€‰)

### 1. æ•°æ®åº“å‡†å¤‡

**å®‰è£…SQL Server Express**:
```bash
# Windows - ä¸‹è½½å¹¶å®‰è£…SQL Server Express
# https://www.microsoft.com/en-us/sql-server/sql-server-downloads

# Linux - ä½¿ç”¨Dockerè¿è¡ŒSQL Server
docker run -e "ACCEPT_EULA=Y" -e "SA_PASSWORD=TodoList@2024!Dev" \
  -p 1433:1433 --name sqlserver-dev \
  -d mcr.microsoft.com/mssql/server:2022-latest
```

**åˆ›å»ºæ•°æ®åº“**:
```sql
-- è¿æ¥åˆ°SQL Serverå¹¶æ‰§è¡Œ
CREATE DATABASE ToDoListArea;
```

### 2. åç«¯APIéƒ¨ç½²

```bash
# è¿›å…¥åç«¯ç›®å½•
cd ApiCode/ToDoListArea/ToDoListArea

# æ¢å¤NuGetåŒ…
dotnet restore

# æ›´æ–°æ•°æ®åº“
dotnet ef database update

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
dotnet run --environment Development
```

**åç«¯é…ç½®æ–‡ä»¶** (`appsettings.Development.json`):
```json
{
  "ConnectionStrings": {
    "DefaultConnection": "Server=localhost,1433;Database=ToDoListArea;User Id=sa;Password=TodoList@2024!Dev;TrustServerCertificate=true;"
  },
  "JwtSettings": {
    "SecretKey": "dev-jwt-secret-key-for-development-only-not-secure-12345678",
    "Issuer": "ToDoListArea-Dev",
    "Audience": "ToDoListArea-Dev-Users",
    "ExpirationInMinutes": 120
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  }
}
```

### 3. å‰ç«¯åº”ç”¨éƒ¨ç½²

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd WebCode/todo-frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

**å‰ç«¯é…ç½®æ–‡ä»¶** (`.env.development`):
```env
VITE_API_BASE_URL=http://localhost:5006/api
VITE_APP_TITLE=æ™ºèƒ½æé†’äº‹é¡¹ç®¡ç†ç³»ç»Ÿ (å¼€å‘ç‰ˆ)
VITE_DEBUG_MODE=true
```

## ğŸ”§ æ··åˆæ¨¡å¼éƒ¨ç½²

æ··åˆæ¨¡å¼å…è®¸æ‚¨é€‰æ‹©æ€§åœ°åœ¨æœ¬åœ°è¿è¡ŒæŸäº›æœåŠ¡ï¼Œå…¶ä»–æœåŠ¡ä½¿ç”¨Dockerã€‚

### åœºæ™¯1: æœ¬åœ°å‰ç«¯ + Dockeråç«¯

```bash
# å¯åŠ¨åç«¯æœåŠ¡ï¼ˆDockerï¼‰
cd å¼€å‘ç¯å¢ƒéƒ¨ç½²
docker-compose -f docker-compose.dev.yml up -d database backend redis

# å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆæœ¬åœ°ï¼‰
cd ../WebCode/todo-frontend
npm run dev
```

### åœºæ™¯2: æœ¬åœ°åç«¯ + Dockerå‰ç«¯

```bash
# å¯åŠ¨æ•°æ®åº“ï¼ˆDockerï¼‰
cd å¼€å‘ç¯å¢ƒéƒ¨ç½²
docker-compose -f docker-compose.dev.yml up -d database redis

# å¯åŠ¨åç«¯æœåŠ¡ï¼ˆæœ¬åœ°ï¼‰
cd ../ApiCode/ToDoListArea/ToDoListArea
dotnet run --environment Development

# å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆDockerï¼‰
cd ../../å¼€å‘ç¯å¢ƒéƒ¨ç½²
docker-compose -f docker-compose.dev.yml up -d frontend
```

## ğŸ” å¼€å‘è°ƒè¯•æŠ€å·§

### å‰ç«¯è°ƒè¯•

1. **æµè§ˆå™¨å¼€å‘è€…å·¥å…·**
   - F12æ‰“å¼€å¼€å‘è€…å·¥å…·
   - ä½¿ç”¨React Developer Toolsæ‰©å±•
   - ç½‘ç»œé¢æ¿ç›‘æ§APIè¯·æ±‚

2. **VS Codeè°ƒè¯•é…ç½®**
   ```json
   // .vscode/launch.json
   {
     "version": "0.2.0",
     "configurations": [
       {
         "name": "Launch Chrome",
         "request": "launch",
         "type": "chrome",
         "url": "http://localhost:5175",
         "webRoot": "${workspaceFolder}/WebCode/todo-frontend/src"
       }
     ]
   }
   ```

### åç«¯è°ƒè¯•

1. **VS Codeè°ƒè¯•é…ç½®**
   ```json
   // .vscode/launch.json
   {
     "version": "0.2.0",
     "configurations": [
       {
         "name": ".NET Core Launch (web)",
         "type": "coreclr",
         "request": "launch",
         "preLaunchTask": "build",
         "program": "${workspaceFolder}/ApiCode/ToDoListArea/ToDoListArea/bin/Debug/net8.0/ToDoListArea.dll",
         "args": [],
         "cwd": "${workspaceFolder}/ApiCode/ToDoListArea/ToDoListArea",
         "env": {
           "ASPNETCORE_ENVIRONMENT": "Development"
         }
       }
     ]
   }
   ```

2. **æ—¥å¿—è°ƒè¯•**
   ```csharp
   // åœ¨Controllerä¸­æ·»åŠ æ—¥å¿—
   private readonly ILogger<TaskController> _logger;
   
   [HttpGet]
   public async Task<IActionResult> GetTasks()
   {
       _logger.LogInformation("è·å–ä»»åŠ¡åˆ—è¡¨è¯·æ±‚");
       // ... ä¸šåŠ¡é€»è¾‘
   }
   ```

### æ•°æ®åº“è°ƒè¯•

1. **ä½¿ç”¨Adminer** (Dockerç¯å¢ƒ)
   - è®¿é—®: http://localhost:8080
   - æœåŠ¡å™¨: database
   - ç”¨æˆ·å: sa
   - å¯†ç : TodoList@2024!Dev

2. **ä½¿ç”¨SQL Server Management Studio**
   - æœåŠ¡å™¨: localhost,1433
   - èº«ä»½éªŒè¯: SQL Serverèº«ä»½éªŒè¯
   - ç”¨æˆ·å: sa
   - å¯†ç : TodoList@2024!Dev

## ğŸ“Š æ€§èƒ½ç›‘æ§

### å¼€å‘ç¯å¢ƒæ€§èƒ½æŒ‡æ ‡

```bash
# æŸ¥çœ‹Dockerå®¹å™¨èµ„æºä½¿ç”¨
docker stats

# æŸ¥çœ‹åº”ç”¨æ€§èƒ½
curl -w "@curl-format.txt" -o /dev/null -s http://localhost:5006/health

# curl-format.txt å†…å®¹:
#     time_namelookup:  %{time_namelookup}\n
#        time_connect:  %{time_connect}\n
#     time_appconnect:  %{time_appconnect}\n
#    time_pretransfer:  %{time_pretransfer}\n
#       time_redirect:  %{time_redirect}\n
#  time_starttransfer:  %{time_starttransfer}\n
#                     ----------\n
#          time_total:  %{time_total}\n
```

### å‰ç«¯æ€§èƒ½ç›‘æ§

```javascript
// åœ¨å‰ç«¯ä»£ç ä¸­æ·»åŠ æ€§èƒ½ç›‘æ§
console.time('API Request');
fetch('/api/tasks')
  .then(response => {
    console.timeEnd('API Request');
    return response.json();
  });
```

## ğŸ”„ å¸¸ç”¨å¼€å‘å‘½ä»¤

### Dockerç¯å¢ƒç®¡ç†
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose -f docker-compose.dev.yml up -d

# åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose -f docker-compose.dev.yml down

# é‡å¯ç‰¹å®šæœåŠ¡
docker-compose -f docker-compose.dev.yml restart frontend

# æŸ¥çœ‹æ—¥å¿—
docker-compose -f docker-compose.dev.yml logs -f backend

# æ¸…ç†ç¯å¢ƒ
docker-compose -f docker-compose.dev.yml down -v
docker system prune -a
```

### ä»£ç ç®¡ç†
```bash
# ä»£ç æ ¼å¼åŒ–
cd WebCode/todo-frontend && npm run format
cd ApiCode/ToDoListArea/ToDoListArea && dotnet format

# è¿è¡Œæµ‹è¯•
cd WebCode/todo-frontend && npm test
cd ApiCode/ToDoListArea && dotnet test

# æ„å»ºé¡¹ç›®
cd WebCode/todo-frontend && npm run build
cd ApiCode/ToDoListArea/ToDoListArea && dotnet build
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

é‡åˆ°é—®é¢˜æ—¶çš„å¤„ç†æ­¥éª¤ï¼š

1. **æŸ¥çœ‹ç›¸å…³æ–‡æ¡£**
   - [å¼€å‘ç¯å¢ƒæ­å»ºæŒ‡å—](./å¼€å‘ç¯å¢ƒæ­å»ºæŒ‡å—.md)
   - [å¼€å‘ç¯å¢ƒæ•…éšœæ’é™¤](./å¼€å‘ç¯å¢ƒæ•…éšœæ’é™¤.md)

2. **æ”¶é›†è¯Šæ–­ä¿¡æ¯**
   ```bash
   # ç”Ÿæˆè¯Šæ–­æŠ¥å‘Š
   docker-compose -f docker-compose.dev.yml logs > debug-logs.txt
   docker ps -a > debug-containers.txt
   ```

3. **è”ç³»å¼€å‘å›¢é˜Ÿ**
   - æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
   - åŒ…å«è¯Šæ–­æŠ¥å‘Š
   - è¯´æ˜å¤ç°æ­¥éª¤

---

**æœ€åæ›´æ–°**: 2025-08-04  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
